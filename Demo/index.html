<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="format-detection" content="telephone=no"/>
        <meta name="msapplication-tap-highlight" content="no"/>
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height"/>
        <link rel="stylesheet" type="text/css" href="css/index.css"/>
        <title>Mapbox test</title>
    </head>
    <body>
        <div class="app">
        </div>
        
        <div style="position:absolute; bottom:0; background-color: #eee">
            
            <button onclick="show()">show Map</button>
            <button onclick="addMarker()">add marker</button>
            <button onclick="saveTile()">save tile</button>
            <button onclick="removeAllMarkers()">remove all markers</button>
            <button onclick="removeMarkerById()">remove marker by id</button>


        </div>
        </div>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script><script type="text/javascript" src="cordova.js"></script>
        <script>
            
            function removeMarkerById() {
                Mapbox.removeMarkerById({"id" : "some-id"},
                        function (result) {
                            alert("Marker removed")
                        },
                        function (error) {
                            alert("marker not found");
                        }
                                        
                                        );
            }
            
            function removeAllMarkers() {
                Mapbox.removeAllMarkers(
                function (result) {
                    alert("Markers removed")
                },
                function (error) {
                    alert(error);
                }
                                        );
            }
            
            function saveTile() {
                Mapbox.saveTile(
                function (result) {
                    console.log(JSON.stringify(result));
                    alert("Tiles saved")
                },
                function (error) {
                    alert(error);
                });
            }
            
            function addMarker() {
                Mapbox.addMarkerToCenter(
                function (result) {
                    alert("Added markers ids: " + JSON.stringify(result))
                    
                },
                function (error) {
                    alert(error);
                });
            }
            
            
            function show() {
                Mapbox.showMap({
                    margins: {
                        'left': 0,
                        'right': 0,
                        'top': 0,
                        'bottom': 100,
                        'height': 600
                    },
                    center: {
                        lat: 53.896454,
                        lon: 27.548004
                    },
                    zoom: 4
                },
                function (result) {
                    Mapbox.addMapTouchCallback(function (callback) {
                      alert("Map selected: " + JSON.stringify(callback));
                    });
                    
                },
                
                function (error) {
                    alert(error);
                }
                               );
            }
        </script>
    </body>
</html>

